{"version":3,"file":"static/js/2487.c3d4365a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/LayerLoadContext.js","../node_modules/@arcgis/core/layers/support/lazyLayerLoader.js","../node_modules/@arcgis/core/portal/support/loadUtils.js","../node_modules/@arcgis/core/portal/support/portalLayers.js","../node_modules/@arcgis/core/support/requestPresets.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{fetchArcGISServiceJSON as t}from\"../../support/requestPresets.js\";class e{constructor(){this._serviceMetadatas=new Map}async fetchServiceMetadata(e,s){const a=this._serviceMetadatas.get(e);if(a)return a;const r=await t(e,s);return this._serviceMetadatas.set(e,r),r}}export{e as LayerLoadContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,DimensionLayer:async()=>(await import(\"../DimensionLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GeoJSONLayer:async()=>(await import(\"../GeoJSONLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,LineOfSightLayer:async()=>(await import(\"../LineOfSightLayer.js\")).default,LinkChartLayer:async()=>(await import(\"../LinkChartLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,MediaLayer:async()=>(await import(\"../MediaLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,OrientedImageryLayer:async()=>(await import(\"../OrientedImageryLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,SubtypeGroupLayer:async()=>(await import(\"../SubtypeGroupLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default};export{a as layerLookupMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport{findAssociatedFeatureService as e}from\"../../layers/support/associatedFeatureServiceUtils.js\";function t(e){const t={id:e.id,name:e.name};return\"Oriented Imagery Layer\"===e.type&&(t.layerType=\"OrientedImageryLayer\"),t}async function a(e,a,r){if(null==e?.layers||null==e?.tables){const l=await r.fetchServiceMetadata(a);(e=e||{}).layers=e.layers||l?.layers?.map(t),e.tables=e.tables||l?.tables?.map(t)}return e}function r(e){const t=e.layers;if(t?.length)return t[0].id;const a=e.tables;return a?.length?a[0].id:null}function l(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function n(e){const t=[];return e?.layers?.forEach((e=>{\"SubtypeGroupLayer\"===e.layerType&&t.push(e.id)})),t}function s(e){return e?.layers?.filter((({layerType:e})=>\"OrientedImageryLayer\"===e)).map((({id:e})=>e))}async function i(a,r,l){if(!a?.url)return r??{};if(r??={},!r.layers){const e=await l.fetchServiceMetadata(a.url);r.layers=e.layers?.map(t)}const{serverUrl:n,portalItem:s}=await e(a.url,{sceneLayerItem:a}).catch((()=>({serverUrl:null,portalItem:null})));if(null==n)return r.tables=[],r;if(!r.tables&&s){const e=await s.fetchData();if(e?.tables)r.tables=e.tables.map(t);else{const e=await l.fetchServiceMetadata(n);r.tables=e?.tables?.map(t)}}if(r.tables)for(const e of r.tables)e.url=`${n}/${e.id}`;return r}export{t as createSublayerData,r as getFirstLayerOrTableId,l as getNumLayersAndTables,s as getOrientedImageryLayerIds,n as getSubtypeGroupLayerIds,i as populateSceneServiceItemData,a as preprocessFSItemData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{findAssociatedFeatureService as a}from\"../../layers/support/associatedFeatureServiceUtils.js\";import{LayerLoadContext as r}from\"../../layers/support/LayerLoadContext.js\";import{sceneServiceLayerTypeToClassName as t}from\"../../layers/support/layerUtils.js\";import{layerLookupMap as n}from\"../../layers/support/lazyLayerLoader.js\";import s from\"../PortalItem.js\";import{getNumLayersAndTables as c,preprocessFSItemData as o,getSubtypeGroupLayerIds as i,getOrientedImageryLayerIds as u,populateSceneServiceItemData as l,getFirstLayerOrTableId as y}from\"./loadUtils.js\";import{hasTypeKeyword as m}from\"./portalItemUtils.js\";async function p(e){!e.portalItem||e.portalItem instanceof s||(e={...e,portalItem:new s(e.portalItem)});const a=await f(e.portalItem);return new(0,a.constructor)({portalItem:e.portalItem,...a.properties})}async function f(e){await e.load();const a=new r;return d(await L(e,a))}async function L(a,r){switch(a.type){case\"Map Service\":return w(a,r);case\"Feature Service\":return S(a,r);case\"Feature Collection\":return I(a);case\"Scene Service\":return N(a,r);case\"Image Service\":return v(a,r);case\"Stream Service\":return M();case\"Vector Tile Service\":return h();case\"GeoJson\":return T();case\"CSV\":return g();case\"KML\":return j();case\"WFS\":return F();case\"WMTS\":return b();case\"WMS\":return G();case\"Feed\":return C();case\"Group Layer\":return U();default:throw new e(\"portal:unknown-item-type\",\"Unknown item type '${type}'\",{type:a.type})}}async function d(e){const a=e.className,r=n[a];return{constructor:await r(),properties:e.properties}}async function w(e,a){return await V(e,a)?{className:\"TileLayer\"}:{className:\"MapImageLayer\"}}async function S(e,a){const r=await W(e,a);if(\"object\"==typeof r){const e={};return null!=r.id&&(e.layerId=r.id),{className:r.className||\"FeatureLayer\",properties:e}}return{className:\"GroupLayer\"}}async function N(e,r){const n=await W(e,r,(async()=>{try{if(!e.url)return[];const{serverUrl:t}=await a(e.url,{sceneLayerItem:e}),n=await r.fetchServiceMetadata(t);return n?.tables??[]}catch{return[]}}));if(\"object\"==typeof n){const a={};let s;if(null!=n.id?(a.layerId=n.id,s=`${e.url}/layers/${n.id}`):s=e.url,e.typeKeywords?.length)for(const r of Object.keys(t))if(e.typeKeywords.includes(r))return{className:t[r]};const c=await r.fetchServiceMetadata(s);return{className:t[c?.layerType]||\"SceneLayer\",properties:a}}if(!1===n){const a=await r.fetchServiceMetadata(e.url);if(\"Voxel\"===a?.layerType)return{className:\"VoxelLayer\"}}return{className:\"GroupLayer\"}}async function I(e){await e.load();const a=m(e,\"Map Notes\"),r=m(e,\"Markup\");if(a||r)return{className:\"MapNotesLayer\"};if(m(e,\"Route Layer\"))return{className:\"RouteLayer\"};const t=await e.fetchData();return 1===c(t)?{className:\"FeatureLayer\"}:{className:\"GroupLayer\"}}async function v(e,a){await e.load();const r=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(r.includes(\"elevation 3d layer\"))return{className:\"ElevationLayer\"};if(r.includes(\"tiled imagery\"))return{className:\"ImageryTileLayer\"};const t=await e.fetchData(),n=t?.layerType;if(\"ArcGISTiledImageServiceLayer\"===n)return{className:\"ImageryTileLayer\"};if(\"ArcGISImageServiceLayer\"===n)return{className:\"ImageryLayer\"};const s=await a.fetchServiceMetadata(e.url),c=s.cacheType?.toLowerCase(),o=s.capabilities?.toLowerCase().includes(\"tilesonly\");return\"map\"===c||o?{className:\"ImageryTileLayer\"}:{className:\"ImageryLayer\"}}function M(){return{className:\"StreamLayer\"}}function h(){return{className:\"VectorTileLayer\"}}function T(){return{className:\"GeoJSONLayer\"}}function g(){return{className:\"CSVLayer\"}}function j(){return{className:\"KMLLayer\"}}function F(){return{className:\"WFSLayer\"}}function G(){return{className:\"WMSLayer\"}}function b(){return{className:\"WMTSLayer\"}}function C(){return{className:\"StreamLayer\"}}function U(){return{className:\"GroupLayer\"}}async function V(e,a){return(await a.fetchServiceMetadata(e.url)).tileInfo}async function W(e,a,r){const t=e.url;if(!t||/\\/\\d+$/.test(t))return{};await e.load();let n=await e.fetchData();if(\"Feature Service\"===e.type){const e=await o(n,t,a),r=K(e);if(\"object\"==typeof r){const a=i(e),t=u(e);r.className=null!=r.id&&a.includes(r.id)?\"SubtypeGroupLayer\":null!=r.id&&t?.includes(r.id)?\"OrientedImageryLayer\":\"FeatureLayer\"}return r}\"Scene Service\"===e.type&&(n=await l(e,n,a));if(c(n)>0)return K(n);const s=await a.fetchServiceMetadata(t);return r&&(s.tables=await r()),K(s)}function K(e){return 1===c(e)&&{id:y(e)}}export{p as fromItem,L as selectLayerClassPath};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.28/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,o){const{data:r}=await e(t,{responseType:\"json\",query:{f:\"json\",...o?.customParameters,token:o?.apiKey}});return r}export{t as fetchArcGISServiceJSON};\n"],"names":["e","constructor","this","_serviceMetadatas","Map","fetchServiceMetadata","s","a","get","r","t","set","BingMapsLayer","async","default","BuildingSceneLayer","CSVLayer","DimensionLayer","ElevationLayer","FeatureLayer","GeoJSONLayer","GeoRSSLayer","GroupLayer","ImageryLayer","ImageryTileLayer","IntegratedMeshLayer","KMLLayer","LineOfSightLayer","LinkChartLayer","MapImageLayer","MapNotesLayer","MediaLayer","OGCFeatureLayer","OpenStreetMapLayer","OrientedImageryLayer","PointCloudLayer","RouteLayer","SceneLayer","StreamLayer","SubtypeGroupLayer","TileLayer","UnknownLayer","UnsupportedLayer","VectorTileLayer","VoxelLayer","WFSLayer","WMSLayer","WMTSLayer","WebTileLayer","id","name","type","layerType","_e","_e2","layers","tables","_l$layers","_l$tables","l","map","length","_e$layers$length","_e$layers","_e$tables$length","_e$tables","n","_e$layers2","forEach","push","_e$layers3","filter","_ref","_ref2","i","_r","_r2","url","_e$layers4","serverUrl","portalItem","sceneLayerItem","catch","fetchData","_e$tables2","concat","p","load","className","properties","d","L","f","tileInfo","V","w","W","layerId","S","m","c","I","_n$tables","_e$typeKeywords","typeKeywords","Object","keys","includes","N","_e$typeKeywords$map","_e$typeKeywords2","_s$cacheType","_s$capabilities","toLowerCase","cacheType","o","capabilities","v","test","K","u","y","data","responseType","query","customParameters","token","apiKey"],"sourceRoot":""}